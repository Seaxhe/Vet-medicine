<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vet ICU / ER Calculator</title>
<style>
body {font-family:-apple-system,BlinkMacSystemFont,sans-serif;background:#0f172a;color:#e5e7eb;margin:0;padding:16px;}
h1,h2 {text-align:center;}
.card {background:#020617;padding:14px;margin:12px 0;border-radius:12px;}
label {display:block;margin-top:8px;}
input, select, button {width:100%;padding:10px;margin-top:6px;border-radius:8px;border:none;font-size:16px;}
button {background:#2563eb;color:white;}
.small {font-size:13px;opacity:0.8;}
.result {margin-top:10px;font-weight:600;}
.alert {color:#fb7185;font-weight:700;}
.toggle {display:flex;gap:8px;}
.toggle button {flex:1;}
.tab {display:none;}
.tab.active {display:block;}
.nav {display:flex;gap:8px;margin-bottom:8px;}
.nav button {flex:1;}
</style>
</head>
<body>

<h1>üêæ Vet ICU / ER Calculator</h1>

<div class="nav">
<button onclick="showTab('pain')">Pain & Anesthesia</button>
<button onclick="showTab('fluids')">Fluids</button>
<button onclick="showTab('nutrition')">Nutrition</button>
<button onclick="showTab('gi')">GI Drugs</button>
</div>

<!-- ================= PAIN & ANESTHESIA ================= -->
<div class="tab active" id="pain">

<div class="card">
<label>Species</label>
<div class="toggle">
<button onclick="setSpecies('dog')">Dog</button>
<button onclick="setSpecies('cat')">Cat</button>
</div>
<label>Weight (kg)</label>
<input type="number" id="wt" step="0.1" oninput="calcPain()">
</div>

<!-- ===== SEDATIVES ===== -->
<div class="card"><h2>üü¶ Sedatives / Premedication</h2></div>

<div class="card">
<h2>Dexmedetomidine</h2>
<div class="small">Dog 1‚Äì5 ¬µg/kg | Cat 5‚Äì10 ¬µg/kg (0.5 mg/mL)</div>
<div id="dex" class="result"></div>
</div>

<div class="card">
<h2>Midazolam</h2>
<div class="small">0.1‚Äì0.3 mg/kg (5 mg/mL)</div>
<div id="midz" class="result"></div>
</div>

<div class="card">
<h2>Butorphanol</h2>
<div class="small">0.2‚Äì0.4 mg/kg (10 mg/mL)</div>
<div id="buto" class="result"></div>
</div>

<!-- ===== ANESTHETICS ===== -->
<div class="card"><h2>üü® Injectable Anesthetics</h2></div>

<div class="card">
<h2>Propofol</h2>
<div class="small">Dog 2‚Äì6 | Cat 4‚Äì8 mg/kg (10 mg/mL)</div>
<div id="prop" class="result"></div>
</div>

<div class="card">
<h2>Alfaxalone</h2>
<div class="small">Dog 1‚Äì3 | Cat 2‚Äì5 mg/kg (10 mg/mL)</div>
<div id="alf" class="result"></div>
</div>

<div class="card">
<h2>Ketamine ‚Äì Bolus</h2>
<div class="small">1‚Äì5 mg/kg (100 mg/mL)</div>
<div id="ketBolus" class="result"></div>
</div>

<div class="card">
<h2>Ketamine ‚Äì CRI</h2>
<div class="small">0.1‚Äì0.6 mg/kg/hr (100 mg/mL)</div>
<div id="ketCRI" class="result"></div>
</div>

<!-- ===== ANALGESIA ===== -->
<div class="card"><h2>üü© Analgesia</h2></div>

<div class="card">
<h2>Buprenorphine</h2>
<div class="small">0.01‚Äì0.02 mg/kg (0.5 mg/mL)</div>
<div id="bup" class="result"></div>
</div>

<div class="card">
<h2>Methadone</h2>
<div class="small">Dog 0.2‚Äì0.5 | Cat 0.1‚Äì0.3 mg/kg (10 mg/mL)</div>
<div id="meth" class="result"></div>
</div>

<div class="card">
<h2>Hydromorphone</h2>
<div class="small">Dog 0.05‚Äì0.1 | Cat 0.025‚Äì0.05 mg/kg (2 mg/mL)</div>
<div id="hydro" class="result"></div>
</div>

<div class="card">
<h2>Gabapentin (PO)</h2>
<div class="small">10‚Äì20 mg/kg</div>
<div id="gaba" class="result"></div>
</div>

<div class="card">
<h2>Carprofen</h2>
<div class="small">4 mg/kg/day max ‚Äì dogs only</div>
<div id="car" class="result"></div>
</div>

<div class="card">
<h2>Meloxicam</h2>
<div class="small">Dog 0.2 | Cat 0.1 mg/kg</div>
<div id="mel" class="result"></div>
</div>

<div class="card">
<h2>Robenacoxib</h2>
<div class="small">1 mg/kg ‚Äì dogs only</div>
<div id="robe" class="result"></div>
</div>
</div>

<!-- ================= FLUIDS ================= -->
<div class="tab" id="fluids">
<div class="card">
<label>Species</label>
<div class="toggle">
<button onclick="calcFluids('dog')">Dog</button>
<button onclick="calcFluids('cat')">Cat</button>
</div>
<label>Weight (kg)</label>
<input type="number" id="wt_fluid" step="0.1" oninput="calcFluids()">
<label>% Dehydration</label>
<input type="number" id="dehydration" value="0">
<label>Ongoing losses (mL/hr)</label>
<input type="number" id="ongoing" value="0">
</div>
<div class="card"><h2>Fluids</h2><div id="fluidResults" class="result"></div></div>
</div>

<!-- ================= NUTRITION ================= -->
<div class="tab" id="nutrition">
<div class="card">
<label>Species</label>
<div class="toggle">
<button onclick="calcNutrition('dog')">Dog</button>
<button onclick="calcNutrition('cat')">Cat</button>
</div>
<label>Weight (kg)</label>
<input type="number" id="wt_nut" step="0.1" oninput="calcNutrition()">
<label>Clinical status</label>
<select id="status" onchange="calcNutrition()">
<option value="neutered">Neutered adult</option>
<option value="intact">Intact adult</option>
<option value="hospitalized">Hospitalized</option>
<option value="critical">Critical care</option>
<option value="weightloss">Weight loss</option>
</select>
<label>Meals/day</label>
<input type="number" id="meals" value="2">
</div>
<div class="card"><h2>Nutrition</h2><div id="nutResults" class="result"></div></div>
</div>

<!-- ================= GI DRUGS ================= -->
<div class="tab" id="gi">
<div class="card">
<label>Weight (kg)</label>
<input type="number" id="wt_gi" step="0.1" oninput="calcGI()">
</div>

<div class="card"><h2>Maropitant</h2><div class="small">1 mg/kg (10 mg/mL)</div><div id="maro" class="result"></div></div>
<div class="card"><h2>Ondansetron</h2><div class="small">0.1‚Äì0.2 mg/kg (2 mg/mL)</div><div id="onda" class="result"></div></div>
<div class="card"><h2>Metoclopramide</h2><div class="small">0.2‚Äì0.4 mg/kg (5 mg/mL)</div><div id="meto" class="result"></div></div>
<div class="card"><h2>Famotidine</h2><div class="small">0.5‚Äì1 mg/kg (10 mg/mL)</div><div id="famo" class="result"></div></div>
<div class="card"><h2>Pantoprazole</h2><div class="small">1 mg/kg IV (40 mg vial)</div><div id="panto" class="result"></div></div>
<div class="card"><h2>Sucralfate (PO)</h2><div class="small">Dog 0.5‚Äì1 g | Cat 0.25 g</div><div id="sucr" class="result"></div></div>
</div>

<script>
function showTab(t){document.querySelectorAll('.tab').forEach(x=>x.classList.remove('active'));document.getElementById(t).classList.add('active');}
let species='dog';
function setSpecies(s){species=s;calcPain();}

const v=(mg,conc)=>`${mg.toFixed(2)} mg | ${(mg/conc).toFixed(2)} mL`;
const r=(l,h,c)=>`${v(l,c)} ‚Äì ${v(h,c)}`;

function calcPain(){
const w=parseFloat(document.getElementById('wt').value); if(!w) return;
document.getElementById('dex').innerHTML=r(w*(species==='dog'?0.001:0.005),w*(species==='dog'?0.005:0.01),0.5);
document.getElementById('midz').innerHTML=r(w*0.1,w*0.3,5);
document.getElementById('buto').innerHTML=r(w*0.2,w*0.4,10);
document.getElementById('prop').innerHTML=r(w*(species==='dog'?2:4),w*(species==='dog'?6:8),10);
document.getElementById('alf').innerHTML=r(w*(species==='dog'?1:2),w*(species==='dog'?3:5),10);
document.getElementById('ketBolus').innerHTML=r(w*1,w*5,100);
document.getElementById('ketCRI').innerHTML=r(w*0.1,w*0.6,100)+" / hr";
document.getElementById('bup').innerHTML=r(w*0.01,w*0.02,0.5);
document.getElementById('meth').innerHTML=r(w*(species==='dog'?0.2:0.1),w*(species==='dog'?0.5:0.3),10);
document.getElementById('hydro').innerHTML=r(w*(species==='dog'?0.05:0.025),w*(species==='dog'?0.1:0.05),2);
document.getElementById('gaba').innerHTML=`${(w*10).toFixed(0)}‚Äì${(w*20).toFixed(0)} mg PO`;
document.getElementById('car').innerHTML=species==='dog'?`${(w*4).toFixed(1)} mg/day`:'‚ùå Cats';
document.getElementById('mel').innerHTML=`${(w*(species==='dog'?0.2:0.1)).toFixed(2)} mg`;
document.getElementById('robe').innerHTML=species==='dog'?`${w.toFixed(2)} mg`:'‚ùå Cats';
}

function calcFluids(s){
if(s) species=s;
const w=parseFloat(document.getElementById('wt_fluid').value); if(!w) return;
const d=parseFloat(document.getElementById('dehydration').value)||0;
const o=parseFloat(document.getElementById('ongoing').value)||0;
const maint=(species==='dog'?50:45)*w;
const total=maint+(d*w*10)+(o*24);
document.getElementById('fluidResults').innerHTML=
`Maintenance: ${maint.toFixed(1)} mL/day<br>Total: ${total.toFixed(1)} mL/day<br>Rate: ${(total/24).toFixed(1)} mL/hr`;
}

function calcNutrition(s){
if(s) species=s;
const w=parseFloat(document.getElementById('wt_nut').value); if(!w) return;
const mult={neutered:1.6,intact:1.8,hospitalized:1.2,critical:1.5,weightloss:1}[document.getElementById('status').value];
const meals=parseFloat(document.getElementById('meals').value)||2;
const RER=70*Math.pow(w,0.75);
const MER=RER*mult;
document.getElementById('nutResults').innerHTML=
`RER: ${RER.toFixed(0)} kcal/day<br>MER: ${MER.toFixed(0)} kcal/day<br>Per meal: ${(MER/meals).toFixed(0)} kcal`;
}

function calcGI(){
const w=parseFloat(document.getElementById('wt_gi').value); if(!w) return;
document.getElementById('maro').innerHTML=v(w*1,10);
document.getElementById('onda').innerHTML=r(w*0.1,w*0.2,2);
document.getElementById('meto').innerHTML=r(w*0.2,w*0.4,5);
document.getElementById('famo').innerHTML=r(w*0.5,w*1,10);
document.getElementById('panto').innerHTML=`${w.toFixed(2)} mg`;
document.getElementById('sucr').innerHTML=species==='dog'?'0.5‚Äì1 g PO':'0.25 g PO';
}
</script>
</body>
</html>
